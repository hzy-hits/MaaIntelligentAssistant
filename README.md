# MAA æ™ºèƒ½æ§åˆ¶ä¸­é—´å±‚

åŸºäº AI Function Calling çš„æ˜æ—¥æ–¹èˆŸå…¨è‡ªåŠ¨åŒ–æ§åˆ¶ç³»ç»Ÿã€‚é€šè¿‡æ™ºèƒ½å¯¹è¯è®©å¤§æ¨¡å‹ç›´æ¥æ§åˆ¶æ˜æ—¥æ–¹èˆŸæ¸¸æˆï¼Œæ”¯æŒ16ä¸ªMAAåŠŸèƒ½å·¥å…·ï¼Œæä¾›å®Œæ•´çš„æ¸¸æˆè‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆã€‚

[![Rust](https://img.shields.io/badge/rust-1.70+-orange.svg)](https://www.rust-lang.org)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![MAA](https://img.shields.io/badge/MAA-v5.22.3+-green.svg)](https://github.com/MaaAssistantArknights/MaaAssistantArknights)
[![PlayCover](https://img.shields.io/badge/PlayCover-âœ…-blue.svg)](https://playcover.io/)

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒèƒ½åŠ›
- **æ™ºèƒ½å¯¹è¯æ§åˆ¶**: é€šè¿‡è‡ªç„¶è¯­è¨€ä¸MAAåŠ©æ‰‹å¯¹è¯ï¼Œå®ç°æ¸¸æˆè‡ªåŠ¨åŒ–
- **17ä¸ªä¸“ä¸šå·¥å…·**: è¦†ç›–å¯åŠ¨ã€åˆ·å›¾ã€æ‹›å‹Ÿã€åŸºå»ºã€è‚‰é¸½ã€æˆªå›¾ç­‰MAAåŠŸèƒ½
- **WebèŠå¤©ç•Œé¢**: Reactå‰ç«¯ï¼Œæ”¯æŒå®æ—¶å¯¹è¯å’Œå·¥å…·è°ƒç”¨å±•ç¤º
- **æ·±åº¦æ¸¸æˆç†è§£**: åŸºäºMAAçŸ¥è¯†åº“çš„æ™ºèƒ½ä»»åŠ¡åˆ†æå’Œæ‰§è¡Œç­–ç•¥
- **PlayCoveræ”¯æŒ**: è‡ªåŠ¨TouchModeé…ç½®ï¼Œè§£å†³iOSæ¨¡æ‹Ÿæˆªå›¾é—®é¢˜

### æŠ€æœ¯ç‰¹æ€§
- **AI Function Calling**: å¤§æ¨¡å‹è‡ªä¸»å†³ç­–å·¥å…·è°ƒç”¨ï¼Œæ™ºèƒ½ä»»åŠ¡é“¾æ‰§è¡Œ
- **å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—**: HTTP + å•çº¿ç¨‹MAAå·¥ä½œè€…ï¼Œä¿è¯çŠ¶æ€ä¸€è‡´æ€§
- **å¤šAIæä¾›å•†**: OpenAIã€Azureã€é€šä¹‰åƒé—®ã€Kimiã€Ollamaæ”¯æŒ
- **åŒè¿è¡Œæ¨¡å¼**: å¼€å‘æ¨¡å¼(Stub) + ç”Ÿäº§æ¨¡å¼(çœŸå®MAA)

### è®¾å¤‡æ”¯æŒ
- PlayCover: macOS iOSåº”ç”¨æ¨¡æ‹Ÿå™¨
- Androidæ¨¡æ‹Ÿå™¨: BlueStacksã€NoxPlayerã€LDPlayer
- AndroidçœŸæœº: USBæˆ–æ— çº¿ADBè¿æ¥

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Axum å¼‚æ­¥     â”‚    â”‚   æ¶ˆæ¯é˜Ÿåˆ—    â”‚    â”‚  MAAå•çº¿ç¨‹å·¥ä½œè€… â”‚
â”‚   HTTP æœåŠ¡å™¨   â”‚â”€â”€â”€â–¶â”‚    (MPSC)    â”‚â”€â”€â”€â–¶â”‚   (ç‹¬å MAAå®ä¾‹) â”‚
â”‚ (å¤šè¯·æ±‚å¹¶å‘å¤„ç†) â”‚    â”‚              â”‚    â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ¶æ„ä¼˜åŠ¿**:
- **é›¶é”è®¾è®¡**: é¿å… Arc<Mutex<>> çš„æ­»é”å’Œç«æ€æ¡ä»¶
- **é«˜æ€§èƒ½**: æ¶ˆæ¯ä¼ é€’æ¯”é”æœºåˆ¶æ›´é«˜æ•ˆ
- **æ˜“è°ƒè¯•**: æ¸…æ™°çš„æ¶ˆæ¯æµï¼Œå¯è¿½è¸ªçš„æ‰§è¡Œè·¯å¾„
- **çŠ¶æ€ä¸€è‡´**: MAAå®ä¾‹çŠ¶æ€å§‹ç»ˆä¿æŒä¸€è‡´æ€§

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Rust**: 1.70+ 
- **MAA.app**: macOS ç³»ç»Ÿå®‰è£…ç‰ˆæœ¬ (ç”¨äºçœŸå®æ¨¡å¼)
- **PlayCover**: iOS åº”ç”¨æ¨¡æ‹Ÿå™¨ (å¯é€‰)
- **Node.js**: 18+ (Web UI å‰ç«¯)

### 1. å…‹éš†é¡¹ç›®

```bash
git clone --recursive https://github.com/your-repo/maa-remote-server.git
cd maa-remote-server
```

### 2. ç¯å¢ƒé…ç½®

é¡¹ç›®é‡‡ç”¨åˆ†å±‚é…ç½®ç³»ç»Ÿ - TOMLé…ç½®æ–‡ä»¶ + ç¯å¢ƒå˜é‡ï¼š

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½® MAA è·¯å¾„å’Œ AI API
```

å…³é”®é…ç½®é¡¹ï¼š
```bash
# MAA Core åŠ¨æ€åº“ (ç³»ç»ŸMAA.app)
MAA_CORE_LIB=/Applications/MAA.app/Contents/Frameworks/libMaaCore.dylib
MAA_RESOURCE_PATH=/Applications/MAA.app/Contents/Resources
DYLD_LIBRARY_PATH=/Applications/MAA.app/Contents/Frameworks

# è®¾å¤‡è¿æ¥
MAA_DEVICE_ADDRESS=127.0.0.1:1717  # PlayCover
# MAA_DEVICE_ADDRESS=127.0.0.1:5555  # Android æ¨¡æ‹Ÿå™¨

# AI é…ç½®
AI_PROVIDER=qwen
AI_API_KEY=your-api-key-here
```

é…ç½®æ–‡ä»¶ç»“æ„:
- `config/app.toml` - ä¸»é…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤å€¼å’Œé€‰é¡¹å®šä¹‰ï¼‰
- `.env` - ç¯å¢ƒå˜é‡ï¼ˆè¿è¡Œæ—¶é…ç½®è¦†ç›–ï¼‰
- `.env.example` - é…ç½®æ¨¡æ¿

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒï¼š[é…ç½®æ–‡æ¡£](docs/CONFIGURATION.md)

### 3. è¿è¡ŒæœåŠ¡å™¨

**å¼€å‘æ¨¡å¼** (æ¨¡æ‹ŸMAAåŠŸèƒ½):
```bash
cargo run --no-default-features --features stub-mode
```

**ç”Ÿäº§æ¨¡å¼** (çœŸå®MAAé›†æˆï¼Œé»˜è®¤):
```bash
cargo run --bin maa-intelligent-server
```

### 4. å¯åŠ¨å‰ç«¯ç•Œé¢

å®‰è£…å‰ç«¯ä¾èµ–:
```bash
cd maa-chat-ui
npm install
```

å¯åŠ¨å¼€å‘æœåŠ¡å™¨:
```bash
npm run dev
# å‰ç«¯å°†åœ¨ http://localhost:3000 å¯åŠ¨
```

æ„å»ºç”Ÿäº§ç‰ˆæœ¬ (å¯é€‰):
```bash
npm run build
npm run preview  # é¢„è§ˆç”Ÿäº§æ„å»º
```

### 5. æµ‹è¯•è¿æ¥

åç«¯APIæµ‹è¯•:
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8080/health

# è·å– Function Calling å·¥å…·åˆ—è¡¨
curl http://localhost:8080/tools

# æ‰§è¡Œ MAA ä»»åŠ¡
curl -X POST http://localhost:8080/call \
  -H "Content-Type: application/json" \
  -d '{
    "function_call": {
      "name": "maa_startup", 
      "arguments": {
        "client_type": "Official",
        "start_app": false
      }
    }
  }'
```

å‰ç«¯ç•Œé¢æµ‹è¯•:
```bash
# è®¿é—®èŠå¤©ç•Œé¢
open http://localhost:3000

# æµ‹è¯•æ™ºèƒ½å¯¹è¯
# åœ¨èŠå¤©æ¡†è¾“å…¥ï¼š"å¸®æˆ‘å¯åŠ¨æ¸¸æˆ"
# ç³»ç»Ÿå°†è‡ªåŠ¨è°ƒç”¨ maa_startup å·¥å…·
```

## ğŸŒ å‰åç«¯äº¤äº’åè®®

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Reactå‰ç«¯     â”‚    â”‚   Axumåç«¯       â”‚    â”‚   MAAå·¥ä½œçº¿ç¨‹   â”‚
â”‚   (ç«¯å£3000)    â”‚â—„â”€â”€â–ºâ”‚   (ç«¯å£8080)     â”‚â”€â”€â”€â–ºâ”‚   (ä»»åŠ¡é˜Ÿåˆ—)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                      â”‚                        â”‚
   ç”¨æˆ·è¾“å…¥å¯¹è¯           AIæ™ºèƒ½åˆ†æè°ƒç”¨              æ‰§è¡ŒçœŸå®MAAä»»åŠ¡
   å®æ—¶ç•Œé¢å±•ç¤º           Function Calling           å›è°ƒçŠ¶æ€æ›´æ–°
```

### èŠå¤©æ¥å£åè®®

**å‰ç«¯è¯·æ±‚æ ¼å¼**:
```typescript
POST /chat
Content-Type: application/json

{
  "messages": [
    {"role": "user", "content": "å¸®æˆ‘åˆ·5æ¬¡1-7å…³å¡ï¼Œæˆ‘éœ€è¦ç»éªŒä¹¦"}
  ]
}
```

**åç«¯å“åº”æ ¼å¼** (OpenAIå…¼å®¹):
```json
{
  "choices": [{
    "message": {
      "role": "assistant",
      "content": "âœ… å·²æˆåŠŸä¸ºæ‚¨æ‰§è¡Œæˆ˜æ–—ä»»åŠ¡\n\nğŸ“Š æ‰§è¡Œç»“æœï¼š\n- å…³å¡ï¼š1-7\n- å®Œæˆæ¬¡æ•°ï¼š5æ¬¡\n- æ¶ˆè€—ç†æ™ºï¼š30\n- è·å¾—ç»éªŒä¹¦ï¼š150ä¸ª\n\nğŸ’¡ å»ºè®®ï¼šç»éªŒä¹¦å‚¨é‡å……è¶³ï¼Œå¯ä»¥å‡çº§å¹²å‘˜äº†ï¼",
      "tool_calls": [
        {
          "function": {
            "name": "maa_combat_enhanced",
            "arguments": "{\"stage\":\"1-7\",\"battle_count\":5}"
          }
        }
      ]
    }
  }]
}
```

### Function Callingå·¥ä½œæµç¨‹

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant Frontend as Reactå‰ç«¯
    participant Backend as Ruståç«¯
    participant AI as AIæ¨¡å‹
    participant MAA as MAAå·¥ä½œè€…

    User->>Frontend: è¾“å…¥: "å¸®æˆ‘åˆ·1-7"
    Frontend->>Backend: POST /chat {messages}
    Backend->>AI: å‘é€ç³»ç»Ÿæç¤ºè¯+å·¥å…·å®šä¹‰+ç”¨æˆ·æ¶ˆæ¯
    AI->>Backend: è¿”å›å·¥å…·è°ƒç”¨å†³ç­–
    Backend->>MAA: æ‰§è¡Œmaa_combat_enhancedä»»åŠ¡
    MAA->>Backend: è¿”å›æ‰§è¡Œç»“æœ
    Backend->>AI: å‘é€æ‰§è¡Œç»“æœï¼Œç”Ÿæˆç”¨æˆ·å‹å¥½å›å¤
    AI->>Backend: è¿”å›æœ€ç»ˆå›å¤
    Backend->>Frontend: OpenAIæ ¼å¼å“åº”
    Frontend->>User: æ˜¾ç¤ºæ™ºèƒ½å›å¤+å·¥å…·è°ƒç”¨è¯¦æƒ…
```

## ğŸ”§ Function Calling å·¥å…·

### æ ¸å¿ƒæ¸¸æˆåŠŸèƒ½ (4ä¸ª)
- `maa_startup` - æ¸¸æˆå¯åŠ¨å’Œè´¦å·ç®¡ç†
- `maa_combat_enhanced` - è‡ªåŠ¨æˆ˜æ–—å’Œèµ„æºç®¡ç†  
- `maa_recruit_enhanced` - æ™ºèƒ½å…¬å¼€æ‹›å‹Ÿ
- `maa_infrastructure_enhanced` - åŸºå»ºè‡ªåŠ¨åŒ–

### é«˜çº§è‡ªåŠ¨åŒ– (4ä¸ª)
- `maa_roguelike_enhanced` - é›†æˆæˆ˜ç•¥(è‚‰é¸½)
- `maa_copilot_enhanced` - ä½œä¸šæ‰§è¡Œ
- `maa_sss_copilot` - ä¿å…¨æ´¾é©»
- `maa_reclamation` - ç”Ÿæ¯æ¼”ç®—

### è¾…åŠ©åŠŸèƒ½ (4ä¸ª)
- `maa_rewards_enhanced` - å¥–åŠ±æ”¶é›†
- `maa_credit_store_enhanced` - ä¿¡ç”¨å•†åº—
- `maa_depot_management` - ä»“åº“ç®¡ç†  
- `maa_operator_box` - å¹²å‘˜ç®¡ç†

### ç³»ç»ŸåŠŸèƒ½ (5ä¸ª)
- `maa_closedown` - æ¸¸æˆå…³é—­
- `maa_custom_task` - è‡ªå®šä¹‰ä»»åŠ¡
- `maa_video_recognition` - è§†é¢‘è¯†åˆ«
- `maa_system_management` - ç³»ç»Ÿç®¡ç†
- `maa_take_screenshot` - æ¸¸æˆæˆªå›¾

## ğŸ“± PlayCover è®¾ç½®æŒ‡å—

### 1. å®‰è£… PlayCover
```bash
brew install --cask playcover-nightlybuild
```

### 2. å®‰è£…æ˜æ—¥æ–¹èˆŸ
1. ä¸‹è½½æ˜æ—¥æ–¹èˆŸ IPA æ–‡ä»¶
2. åœ¨ PlayCover ä¸­å®‰è£… IPA
3. å¯ç”¨ **MaaTools** æ’ä»¶

### 3. é…ç½®è¿æ¥
```bash
# .env æ–‡ä»¶é…ç½®
MAA_DEVICE_ADDRESS=127.0.0.1:1717  # PlayCover å›ºå®šç«¯å£

# ç³»ç»Ÿä¼šè‡ªåŠ¨:
# - æ£€æµ‹ PlayCover è¿æ¥
# - è®¾ç½® TouchMode ä¸º MacPlayTools  
# - é…ç½® iOS å¹³å°å·®å¼‚èµ„æº
```

### 4. éªŒè¯è¿æ¥
å¯åŠ¨æ˜æ—¥æ–¹èˆŸåï¼Œè¿è¡Œï¼š
```bash
curl -X POST http://localhost:8080/call \
  -H "Content-Type: application/json" \
  -d '{
    "function_call": {
      "name": "maa_startup",
      "arguments": {"client_type": "Official", "start_app": false}
    }
  }'
```

æˆåŠŸè¿æ¥ä¼šæ˜¾ç¤ºè®¾å¤‡ UUID å’Œæ¸¸æˆè¯†åˆ«ä¿¡æ¯ã€‚

## ğŸ” API å‚è€ƒ

### HTTP æ¥å£

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/health` | GET | å¥åº·æ£€æŸ¥ |
| `/tools` | GET | è·å– Function Calling å·¥å…·å®šä¹‰ |
| `/call` | POST | æ‰§è¡Œ MAA ä»»åŠ¡ (ç›´æ¥è°ƒç”¨) |
| `/chat` | POST | æ™ºèƒ½å¯¹è¯æ¥å£ (AIå†³ç­–è°ƒç”¨) |
| `/status` | GET | è·å– MAA çŠ¶æ€ä¿¡æ¯ |

### æ™ºèƒ½å¯¹è¯ vs ç›´æ¥è°ƒç”¨

**æ™ºèƒ½å¯¹è¯æ¥å£** (`/chat`) - **æ¨èæ–¹å¼**:
- ğŸ¤– AIè‡ªä¸»åˆ†æç”¨æˆ·éœ€æ±‚
- ğŸ§  æ™ºèƒ½é€‰æ‹©åˆé€‚çš„å·¥å…·å’Œå‚æ•°
- ğŸ“ æä¾›ä¸“ä¸šçš„æ‰§è¡Œå»ºè®®å’Œç»“æœè§£è¯»
- ğŸ”„ æ”¯æŒå¤šå·¥å…·ä»»åŠ¡é“¾æ‰§è¡Œ

**ç›´æ¥è°ƒç”¨æ¥å£** (`/call`) - å¼€å‘è°ƒè¯•:
- âš¡ ç›´æ¥æ‰§è¡ŒæŒ‡å®šå·¥å…·
- ğŸ”§ é€‚åˆAPIé›†æˆå’Œè‡ªåŠ¨åŒ–è„šæœ¬
- ğŸ“Š è¿”å›åŸå§‹æ‰§è¡Œç»“æœ

### Function Calling æ ¼å¼

```json
{
  "function_call": {
    "name": "maa_combat_enhanced",
    "arguments": {
      "stage": "1-7",
      "strategy": {
        "target_value": 10,
        "medicine": 999,
        "stone": 0
      }
    }
  }
}
```

### å“åº”æ ¼å¼

```json
{
  "success": true,
  "result": {
    "status": "success",
    "message": "ä»»åŠ¡æ‰§è¡Œå®Œæˆ",
    "details": {
      "stage": "1-7",
      "completedRuns": 10,
      "resourcesGained": {...}
    }
  },
  "backend": "singleton",
  "timestamp": "2025-08-19T14:15:32Z"
}
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| HTTP å¹¶å‘å¤„ç† | 1000+ QPS | Axum å¼‚æ­¥å¤„ç† |
| MAA ä»»åŠ¡æ‰§è¡Œ | ä¸²è¡Œå¤„ç† | ä¿è¯çŠ¶æ€ä¸€è‡´æ€§ |
| å“åº”å»¶è¿Ÿ | <100ms | æ¶ˆæ¯é˜Ÿåˆ—å¼€é”€ <1ms |
| å†…å­˜å ç”¨ | ~50MB | å• MAA å®ä¾‹ |
| CPU ä½¿ç”¨ç‡ | ä½ | æ— é”ç«äº‰ |

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. PlayCover è¿æ¥å¤±è´¥
```
é”™è¯¯: PlayCoverè¿æ¥å¤±è´¥: Connection refused

è§£å†³æ–¹æ¡ˆ:
1. ç¡®ä¿ PlayCover å·²å®‰è£…æ˜æ—¥æ–¹èˆŸ
2. ç¡®ä¿ MaaTools å·²å¯ç”¨
3. ç¡®ä¿æ¸¸æˆæ­£åœ¨è¿è¡Œ
4. æ£€æŸ¥ç«¯å£ 1717 æ˜¯å¦è¢«å ç”¨
```

#### 2. MAA åº“åŠ è½½å¤±è´¥
```
é”™è¯¯: åŠ è½½ MAA Core åº“å¤±è´¥

è§£å†³æ–¹æ¡ˆ:
1. æ£€æŸ¥ MAA.app æ˜¯å¦å·²å®‰è£…
2. éªŒè¯ MAA_CORE_LIB ç¯å¢ƒå˜é‡è·¯å¾„
3. ç¡®ä¿ DYLD_LIBRARY_PATH è®¾ç½®æ­£ç¡®
```

#### 3. æˆªå›¾æˆ–è¯†åˆ«å¼‚å¸¸
```
é”™è¯¯: æ¨¡æ¿åŒ¹é…å¤±è´¥æˆ–æˆªå›¾ä¸ºç©º

è§£å†³æ–¹æ¡ˆ:
1. ç¡®è®¤æ¸¸æˆç•Œé¢å¯è§ä¸”æœªè¢«é®æŒ¡
2. æ£€æŸ¥è®¾å¤‡åˆ†è¾¨ç‡æ˜¯å¦æ”¯æŒ
3. éªŒè¯ TouchMode è®¾ç½® (å·²è‡ªåŠ¨å¤„ç†)
```

### è°ƒè¯•æŠ€å·§

**å¯ç”¨è¯¦ç»†æ—¥å¿—**:
```bash
LOG_LEVEL=debug cargo run --bin maa-intelligent-server
```

**æŸ¥çœ‹ MAA å›è°ƒ**:
æ—¥å¿—ä¸­ä¼šæ˜¾ç¤ºè¯¦ç»†çš„ MAA äº‹ä»¶ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿æ¥çŠ¶æ€ã€ä»»åŠ¡æ‰§è¡Œã€è¯†åˆ«ç»“æœç­‰ã€‚

**å¥åº·æ£€æŸ¥**:
```bash
curl http://localhost:8080/health | jq
curl http://localhost:8080/status | jq
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
maa-remote-server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ bin/
â”‚   â”‚   â””â”€â”€ maa-intelligent-server.rs  # ğŸš€ æœåŠ¡å™¨å…¥å£
â”‚   â”œâ”€â”€ maa_core/                      # ğŸ¯ MAA Core æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ mod.rs                     # å®ä¾‹ç®¡ç†å’Œå›è°ƒ
â”‚   â”‚   â”œâ”€â”€ worker.rs                  # â­ å•çº¿ç¨‹å·¥ä½œè€…
â”‚   â”‚   â”œâ”€â”€ task_queue.rs              # â­ ä»»åŠ¡é˜Ÿåˆ—å®šä¹‰
â”‚   â”‚   â””â”€â”€ basic_ops.rs               # åºŸå¼ƒAPIå…¼å®¹
â”‚   â”œâ”€â”€ function_tools/                # ğŸ”§ Function Calling
â”‚   â”‚   â”œâ”€â”€ server.rs                  # å¢å¼ºæœåŠ¡å™¨
â”‚   â”‚   â”œâ”€â”€ queue_client.rs            # é˜Ÿåˆ—å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ core_game.rs               # 4ä¸ªæ ¸å¿ƒå·¥å…·
â”‚   â”‚   â”œâ”€â”€ advanced_automation.rs     # 4ä¸ªé«˜çº§å·¥å…·
â”‚   â”‚   â”œâ”€â”€ support_features.rs        # 4ä¸ªè¾…åŠ©å·¥å…·
â”‚   â”‚   â””â”€â”€ system_features.rs         # 4ä¸ªç³»ç»Ÿå·¥å…·
â”‚   â””â”€â”€ ai_client/                     # ğŸ¤– AI é›†æˆ
â”œâ”€â”€ docs/                              # ğŸ“š æŠ€æœ¯æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/                  # æ¶æ„è®¾è®¡
â”‚   â””â”€â”€ modules/                       # æ¨¡å—æ–‡æ¡£
â”œâ”€â”€ maa-chat-ui/                       # ğŸ’¬ Web UI
â””â”€â”€ scripts/                           # ğŸ”§ éƒ¨ç½²è„šæœ¬
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„ Function Tool

1. åœ¨å¯¹åº”æ¨¡å—æ–‡ä»¶ä¸­æ·»åŠ å·¥å…·å®šä¹‰
2. å®ç°å·¥å…·é€»è¾‘ï¼Œä½¿ç”¨ `MaaQueueClient`
3. åœ¨ `mod.rs` ä¸­æ³¨å†Œå·¥å…·
4. æ›´æ–°æ–‡æ¡£å’Œæµ‹è¯•

### æ‰©å±• MAA ä»»åŠ¡ç±»å‹

1. åœ¨ `task_queue.rs` ä¸­æ·»åŠ æ–°çš„ `MaaTask` å˜ä½“
2. åœ¨ `worker.rs` ä¸­å®ç°å¯¹åº”çš„å¤„ç†é€»è¾‘
3. åœ¨ `queue_client.rs` ä¸­æ·»åŠ å®¢æˆ·ç«¯æ–¹æ³•

### é›†æˆæ–°çš„ AI æä¾›å•†

1. åœ¨ `ai_client/providers/` ä¸­æ·»åŠ æä¾›å•†å®ç°
2. å®ç° `AiProvider` trait
3. åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³ç¯å¢ƒå˜é‡

## ğŸ“„ æŠ€æœ¯æ–‡æ¡£

- [é…ç½®è¯´æ˜æ–‡æ¡£](docs/CONFIGURATION.md) - å®Œæ•´çš„é…ç½®ç³»ç»Ÿè¯´æ˜
- [ç³»ç»Ÿæ¶æ„æ–‡æ¡£](docs/architecture/SYSTEM_ARCHITECTURE.md)
- [MAA Core æ¨¡å—](docs/modules/MAA_CORE.md)
- [Function Tools æ¨¡å—](docs/modules/FUNCTION_TOOLS.md)
- [AI Client æ¨¡å—](docs/modules/AI_CLIENT.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯: `git checkout -b feature/new-tool`
3. æäº¤æ›´æ”¹: `git commit -am 'Add new MAA tool'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-tool`
5. åˆ›å»º Pull Request

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [MaaAssistantArknights](https://github.com/MaaAssistantArknights/MaaAssistantArknights) - æ ¸å¿ƒè‡ªåŠ¨åŒ–å¼•æ“
- [PlayCover](https://playcover.io/) - macOS iOS åº”ç”¨æ¨¡æ‹Ÿå™¨
- [Rust](https://rust-lang.org/) - ç³»ç»Ÿç¼–ç¨‹è¯­è¨€
- [Axum](https://github.com/tokio-rs/axum) - ç°ä»£å¼‚æ­¥ Web æ¡†æ¶

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### Webç•Œé¢æ™ºèƒ½å¯¹è¯ç¤ºä¾‹

**æ—¥å¸¸ä»»åŠ¡**:
```
ç”¨æˆ·: "å¸®æˆ‘åšæ—¥å¸¸ä»»åŠ¡"
åŠ©æ‰‹: å¼€å§‹æ‰§è¡Œæ—¥å¸¸ä»»åŠ¡åºåˆ—ï¼šå¥–åŠ±æ”¶é›† â†’ åŸºå»ºç®¡ç† â†’ å…¬å¼€æ‹›å‹Ÿ

âœ… å¥–åŠ±æ”¶é›†å®Œæˆ - è·å¾—åˆæˆç‰200ã€é¾™é—¨å¸15000
âœ… åŸºå»ºç®¡ç†å®Œæˆ - æ”¶é›†ææ–™ã€é‡æ–°æ’ç­
âœ… å…¬å¼€æ‹›å‹Ÿå®Œæˆ - å®Œæˆ3æ¬¡æ‹›å‹Ÿï¼Œè·å¾—æ–°å¹²å‘˜1ä¸ª

ğŸ’¡ å»ºè®®ï¼šç†æ™ºå³å°†æ»¡æº¢ï¼Œæ¨èåˆ·ç»éªŒä¹¦æˆ–é¾™é—¨å¸æœ¬
```

**æˆ˜æ–—åˆ·å›¾**:
```
ç”¨æˆ·: "æˆ‘æƒ³è¦ç»éªŒä¹¦ï¼Œå¸®æˆ‘åˆ·1-7ç›´åˆ°ç†æ™ºç”¨å®Œ"
åŠ©æ‰‹: âœ… å·²æˆåŠŸæ‰§è¡Œ1-7å…³å¡åˆ·å–

ğŸ“Š æ‰§è¡Œç»“æœï¼š
- å®Œæˆæ¬¡æ•°ï¼š42æ¬¡
- æ¶ˆè€—ç†æ™ºï¼š126
- è·å¾—ç»éªŒä¹¦ï¼š126ä¸ª
- æ‰§è¡Œæ—¶é—´ï¼šçº¦35åˆ†é’Ÿ

ğŸ’¡ å»ºè®®ï¼šç»éªŒä¹¦å‚¨é‡å……è¶³ï¼Œå¯ä»¥å‡çº§æ ¸å¿ƒå¹²å‘˜äº†ï¼
```

**è‚‰é¸½æ¨¡å¼**:
```
ç”¨æˆ·: "å¸®æˆ‘åˆ·è‚‰é¸½ï¼Œç”¨æŒ‡æŒ¥åˆ†é˜Ÿ"
åŠ©æ‰‹: ğŸƒ å¼€å§‹æ‰§è¡Œé›†æˆæˆ˜ç•¥ä»»åŠ¡

ğŸ“Š æ‰§è¡Œç»“æœï¼š
- ä¸»é¢˜ï¼šå‚€å½±ä¸çŒ©çº¢å­¤é’»
- åˆ†é˜Ÿï¼šæŒ‡æŒ¥åˆ†é˜Ÿ
- å®Œæˆå±‚æ•°ï¼š15å±‚
- è·å¾—æ”¶è—å“ï¼šçŒ©çº¢å­¤é’»Ã—3

ğŸ’¡ å»ºè®®ï¼šè¡¨ç°ä¼˜ç§€ï¼å¯ä»¥å°è¯•æé«˜éš¾åº¦è·å¾—æ›´å¤šå¥–åŠ±
```

### å‰ç«¯åŠŸèƒ½ç‰¹æ€§

**æ™ºèƒ½å¯¹è¯ç•Œé¢**:
- ğŸ“± ç°ä»£åŒ–å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸ’¬ å®æ—¶æ¶ˆæ¯æµï¼Œæ”¯æŒæ‰“å­—æœºæ•ˆæœ
- ğŸ”§ å·¥å…·è°ƒç”¨è¯¦æƒ…å±•ç¤ºï¼Œé€æ˜åŒ–æ‰§è¡Œè¿‡ç¨‹
- ğŸ“Š æ‰§è¡Œç»“æœå¯è§†åŒ–ï¼Œæ•°æ®ç»Ÿè®¡æ¸…æ™°
- ğŸ¨ ä¼˜é›…çš„UI/UXè®¾è®¡ï¼Œä½¿ç”¨ä½“éªŒæµç•…

**æŠ€æœ¯æ ˆ**:
- **React 19**: æœ€æ–°Reactç‰ˆæœ¬ï¼Œæ”¯æŒConcurrentç‰¹æ€§
- **Vite 5**: æé€Ÿæ„å»ºå·¥å…·ï¼Œçƒ­é‡è½½ä½“éªŒ
- **TypeScript**: ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒä¼˜ç§€
- **Tailwind CSS**: å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **Lucide Icons**: ç°ä»£åŒ–å›¾æ ‡åº“

---

**é¡¹ç›®çŠ¶æ€**: âœ… ç§¯æç»´æŠ¤ | **ç‰ˆæœ¬**: 1.0.0 | **æœ€åæ›´æ–°**: 2025-08-20

## ğŸš€ å¿«é€Ÿå¯åŠ¨å‘½ä»¤

```bash
# 1. å…‹éš†å¹¶å¯åŠ¨åç«¯
git clone --recursive https://github.com/your-repo/maa-remote-server.git
cd maa-remote-server
cp .env.example .env  # ç¼–è¾‘é…ç½®
cargo run --bin maa-intelligent-server

# 2. å¯åŠ¨å‰ç«¯ (æ–°ç»ˆç«¯)
cd maa-chat-ui
npm install && npm run dev

# 3. è®¿é—®åº”ç”¨
open http://localhost:3000
```
